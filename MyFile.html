<!DOCTYPE html>
<html lang="en">
<head>

    <link rel="stylesheet" href="myCss.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Learnig Site</title>

     <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .postsList {
      max-width: 800px;
      margin: auto;
      list-style: none;
      padding: 0;
    }
    .post-item {
      background: white;
      margin-bottom: 15px;
      padding: 15px;
      border-radius: 5px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .post-title {
      margin: 0 0 10px;
      font-size: 1.4em;
      color: #333;
    }
    .post-body {
      margin: 0;
      color: #555;
    }
  </style>

</head>
<body>

    <div>
        <a href="./Task Manager/index.html">Task Manager</a> |
        <h1>All Posts</h1>
        <ul id="postsList" class ="posts-list">
            <!-- Posts will be dynamically inserted here -->

        <footer>&copy; 2024 My Learning Site. All rights reserved.</footer>
    </div>
</body>



<script>
    const apiURL = 'https://jsonplaceholder.typicode.com/posts';
    
    async function fetchAndRenderPost() {
        try {
            const response = await fetch(apiURL);
            console.log(response);
            if(!response.ok) {
                throw new Error('Network response was not ok ' + response.statusText);
            }
            console.log(response.type);
            console.log(response.url);
            console.table(response);
            const posts = await response.json();
            console.log(posts);
            const postsContainer = document.getElementById('postsList');
            postsContainer.innerHTML = ''; // Clear existing content

            posts.forEach(post => {
                const postItem = document.createElement('li');
                postItem.className = 'post-item';
                
                const postTitle = document.createElement('h2');
                postTitle.className = 'post-title';
                postTitle.textContent = post.userId + '-' + post.id + ' ' + post.title;
                
                const postBody = document.createElement('p');
                postBody.className = 'post-body';
                postBody.textContent = post.body;
                
                postItem.appendChild(postTitle);
                postItem.appendChild(postBody);
                
                postsContainer.appendChild(postItem);
            });
            // document.getElementById('postsList').innerHTML = posts.map(post => `
            //     <li class="post-item">
            //         <h2 class="post-title">${post.title}</h2>
            //         <p class="post-body">${post.body}</p>
            //     </li>
            // `).join('');
            
        } catch (error) {
            console.error('Error fetching posts:', error);
            const postsContainer = document.getElementById('postsList');
            postsContainer.innerHTML = '<li class="post-item">Failed to load posts. Please try again later.</li>';
        }
    }

    window.onload = fetchAndRenderPost;


</script>
</html>